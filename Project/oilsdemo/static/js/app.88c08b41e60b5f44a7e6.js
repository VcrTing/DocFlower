webpackJsonp([13],{"/hKQ":function(e,t){},"5ZNE":function(e,t){},"7zck":function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),o=n("Xxa5"),a=n.n(o),u=n("exGp"),s=n.n(u),c={name:"",data:function(){return{}},mounted:function(){},methods:{init:function(){var e=this;return s()(a.a.mark(function t(){var n,r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadingItems();case 2:return n=t.sent,e.$store.commit("saveUnitUser",n),t.next=6,e.productsLoading();case 6:r=t.sent,e.$store.commit("saveProducts",r),console.log("Loading Completed!");case 9:case"end":return t.stop()}},t,e)}))()},productsLoading:function(){var e=this;return s()(a.a.mark(function t(){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.conn.get(e.api.products,e.$store.state.token);case 2:return(n=t.sent)&&(n=n.map(function(e){return{id:e.id,named:e.named,price:e.price,pv:e.pv}})),t.abrupt("return",n);case 5:case"end":return t.stop()}},t,e)}))()},loadingUser:function(){var e=this;return s()(a.a.mark(function t(){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.conn.get(e.api.users,e.$store.state.token);case 2:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}},t,e)}))()},loadingBuys:function(){var e=this;return s()(a.a.mark(function t(){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.conn.get(e.api.buys,e.$store.state.token);case 2:return(n=t.sent)&&(n=n.map(function(e){return{buy_time:e.buy_time,num:e.num,pv:e.product.pv,user:e.users_permissions_user.id}})),t.abrupt("return",n);case 5:case"end":return t.stop()}},t,e)}))()},loadingItems:function(){var e=this;return s()(a.a.mark(function t(){var n,r,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.next=3,e.loadingUser();case 3:return r=t.sent,t.next=6,e.loadingBuys();case 6:return o=t.sent,r&&r.map(function(e){var t={};t.name=e.username,t.is_new=e.is_new,t.unid=e.unid,t.sponser_id=e.sponser_id,t.enroller_id=e.enroller_id,t.id=e.id,t.buys=[],o.map(function(n){n.user==e.id&&t.buys.push(n)}),n.push(t)}),t.abrupt("return",n);case 9:case"end":return t.stop()}},t,e)}))()}}},i={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var l={components:{UnitData:n("VU/8")(c,i,!1,function(e){n("5ZNE")},"data-v-25f3aba4",null).exports},name:"App",created:function(){console.log("启动:"),this.$store.getters.checkToken()&&this.gotAuth()},mounted:function(){var e=this;return s()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.userData.init();case 2:console.log("完毕 》》》》》");case 3:case"end":return t.stop()}},t,e)}))()},methods:{gotAuth:function(){var e=this;return s()(a.a.mark(function t(){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.conn.token();case 2:n=t.sent,e.$store.commit("changeAuth",n.jwt,n.user);case 4:case"end":return t.stop()}},t,e)}))()}}},d={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-app",{attrs:{id:"app"}},[t("unit-data",{ref:"userData"}),this._v(" "),t("router-view")],1)},staticRenderFns:[]};var p=n("VU/8")(l,d,!1,function(e){n("/hKQ")},null,null).exports,h=n("/ocq"),f=[{path:"/home",component:function(){return n.e(4).then(n.bind(null,"n/G1"))},redirect:"/home/bonus",children:[{path:"/home/ui",component:function(){return n.e(8).then(n.bind(null,"p69I"))},redirect:"/home/ui/element",children:[{path:"/home/ui/element",component:function(){return n.e(10).then(n.bind(null,"lQLT"))}}]},{path:"/home/account",component:function(){return n.e(11).then(n.bind(null,"NeGW"))},redirect:"/home/account/result",children:[{path:"/home/account/result",component:function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"Qu52"))}}]},{path:"/home/bonus",component:function(){return n.e(9).then(n.bind(null,"z8eu"))},redirect:"/home/bonus/active_house",children:[{path:"/home/bonus/active_house",component:function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,"WVNf"))}},{path:"/home/bonus/recommend",component:function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"JZBU"))}},{path:"/home/bonus/active_layer",component:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"qOYF"))}}]},{path:"/home/buys",component:function(){return n.e(7).then(n.bind(null,"iRNI"))},redirect:"/home/buys/edit",children:[{path:"/home/buys/edit",component:function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"FMyh"))}}]}]},{path:"",redirect:"/home",meta:{title:"首页"}}];r.default.use(h.a);var m=h.a.prototype.push;h.a.prototype.push=function(e){return m.call(this,e).catch(function(e){return e})};var g=new h.a({routes:f,mode:"hash",scrollBehviour:function(e,t,n){return n||(e.hash?{selector:e.hash}:void 0)}});g.afterEach(function(){window.scrollTo(0,0)});var v=g,b=n("NYxO");r.default.use(b.a);var y=new b.a.Store({state:{token:"",user:{},user_unit:null,products:[]},mutations:{changeAuth:function(e,t,n){e.token=t,e.user=n,localStorage.setItem("oils_token",t),localStorage.setItem("oils_user",n)},clearToken:function(e){e.token="",e.user={},localStorage.setItem("oils_token",""),localStorage.setItem("oils_user",{})},saveUnitUser:function(e,t){e.user_unit=t},saveProducts:function(e,t){e.products=t}},getters:{checkToken:function(e){var t=!1,n=localStorage.getItem("oils_token");return void 0==n||""==n||null==n?t=!0:(e.token=n,e.user=localStorage.getItem("oils_user"),console.log("token = ",n,n.substring(0,15)+"...")),function(e){return t}}},modules:{}}),k=n("Dd8w"),w=n.n(k),x={ser_timed:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==e||void 0==e)return"--";var r=e.substring(0,4),o=e.substring(5,7),a=e.substring(8,10),u=e.substring(11,13),s=e.substring(14,16);return t?n?r+"年"+o+"月"+a+"日 ":r+"年"+o+"月"+a+"日 "+u+"時"+s+"分":n?r+"-"+o+"-"+a:r+"-"+o+"-"+a+" "+u+":"+s}},_={floatAdd:function(e,t){var n,r=void 0,o=void 0;try{r=e.toString().split(".")[1].length}catch(e){r=0}try{o=t.toString().split(".")[1].length}catch(e){o=0}return(e*(n=Math.pow(10,Math.max(r,o)))+t*n)/n},floatSub:function(e,t){var n,r,o=void 0,a=void 0;try{o=e.toString().split(".")[1].length}catch(e){o=0}try{a=t.toString().split(".")[1].length}catch(e){a=0}return n=Math.pow(10,Math.max(o,a)),r=(o=a)?o:a,((arg1m-arg2m)/n).toFixed(r)},floatMul:function(e,t){var n=0,r=e.toString(),o=t.toString();try{n+=r.split(".")[1].length}catch(e){}try{n+=o.split(".")[1].length}catch(e){}return Number(r.replace(".",""))*Number(o.replace(".",""))/Math.pow(10,n)},floatDiv:function(e,t){var n=0,r=0;try{n=e.toString().split(".")[1].length}catch(e){}try{r=t.toString().split(".")[1].length}catch(e){}return Number(e.toString().replace(".",""))/Number(t.toString().replace(".",""))*Math.pow(10,r-n)}},S=w()({},x,_),T=n("IHMs"),B=n.n(T),U="http://141.164.56.50:1337",N={baseURL:U,apiURL:"http://141.164.56.50:1337",delayTime:300,theme:{primary:{base:"#6a097d",darken1:"#5b0c64",lighten1:"#bd10d1"},accent:{base:"#c060a1",darken1:"#c060a1"},secondary:{base:"#f1d4d4",darken1:B.a.cyan.darken3,lighten1:B.a.cyan.lighten3},header:{color:"",classes:"neu-glow"},footer:{color:"",classes:"neu-glow"},primaryBgText:B.a.shades.white,secondaryBgText:B.a.shades.white,dark:!1,semidark:!1,rtl:!1}},F=n("mvHQ"),I=n.n(F),M=n("mtWM"),P=n.n(M);function $(e){var t=P.a.create({timeout:12e3});return t.defaults.retry=2,t.defaults.retryDelay=3e3,t.interceptors.request.use(function(e){return e},function(e){console.log(e)}),t.interceptors.response.use(function(e){return e.data},function(e){throw console.log("请求出错!!!"),console.log(e),e}),t(e)}var D=function(e){var t={};return e&&(t.Authorization="Bearer "+e),t},A={get:function(e,t){return $({url:e+=function(e){var t="?";if("{}"==I()(e));else for(var n in e)t+=n+"="+e[n]+"&";return t}(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),method:"get",headers:D(t)})},post:function(e,t,n){return $({url:e,method:"post",data:n,headers:D(t)})},put:function(e,t,n){return $({url:e,method:"put",data:n,headers:D(t)})}},E=N.baseURL+"/auth/local",L={token:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"vcrting@163.com",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1234567";return s()(a.a.mark(function r(){var o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={identifier:t,password:n},e.next=3,A.post(E,o);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},r,e)}))()}},R=w()({},L,A,{success_one:function(e){try{e.id}catch(e){return!1}return!0},success_many:function(e){return e.length>0}}),Q=function(e){return N.baseURL+e},z={users:Q("/users"),levels:Q("/levels"),buys:Q("/buys"),bonus:Q("/bonuses"),products:Q("/products")},H=n("3EgV"),J=n.n(H),V=(n("7zck"),n("csSS"),n("gJtD"),n("e0XP"),N.theme);r.default.use(J.a);var W={icons:{iconfont:"mdiSvg"},rtl:!1,theme:{dark:V.dark,default:"light",disable:!1,options:{cspNonce:void 0,customProperties:!0,minifyTheme:void 0,themeCache:void 0},themes:{light:{primary:V.primary,secondary:V.secondary.base,accent:V.accent.base,error:B.a.red.accent4,info:B.a.blue.lighten1,success:B.a.green.accent4,warning:B.a.amber.darken2,background:"#f8f9fa",neu:{darken1:"#DDE4EF",lighten1:"#FFFFFF"},primaryBgText:V.primaryBgText,secondaryBgText:V.secondaryBgText},dark:{primary:V.primary,secondary:V.secondary.base,accent:V.accent.darken1,error:B.a.red.accent4,info:B.a.blue.lighten1,success:B.a.green.accent4,warning:B.a.amber.darken2,background:"#1d2327",neu:{darken1:"#1d2327",lighten1:"#1d2327"},primaryBgText:V.primaryBgText,secondaryBgText:V.secondaryBgText}}}},q=new J.a(W);r.default.prototype.api=z,r.default.prototype.conn=R,r.default.prototype.conf=N,r.default.prototype.view=S,r.default.config.productionTip=!1,new r.default({router:v,store:y,vuetify:q,components:{App:p},template:"<App/>"}).$mount("#app")},csSS:function(e,t){},e0XP:function(e,t){},gJtD:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.88c08b41e60b5f44a7e6.js.map